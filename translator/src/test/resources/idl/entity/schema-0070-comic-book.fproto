// 动漫书
message ComicBook {
  //option
  option (entity_option).table = COMIC_BOOK_TABLE;
  option (entity_option).entity_name = "comic_book";
  option (table_option).hbase_table_name = "qipu_comic_book_table";
  option (entity_option).entity_id_type = COMIC_BOOK;

  required int64 id = 1 [(column_option).is_auto_set = true];
  //是否删除。奇谱不真正删除数据。 使用这个标识来标记该数据已经删除。 
  optional bool deleted = 2 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];
  //最后更新时间，任何字段更新都会导致这个最后更新时间被修改。这个字段由奇谱自动维护。
  optional int64 last_update_time = 3 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];
  
  //基本信息
  optional ComicBookMetadata metadata = 4 [(field_option).column_group = METADATA, (column_option).column_name = "meta"];

  //图书格式
  optional ComicBookFormat format = 5 [(field_option).column_group = FORMAT, (column_option).column_name = "format"];

  //完结状态 (使用serialize_status字段)
  optional BookAvailableStatus available_status = 6 [deprecated = true];

  // 漫画属性
  optional ComicBookProperty book_property = 7 [(field_option).column_group = BOOK_PROPERTY, (column_option).column_name = "book_prop"];

  // 作者
  repeated MetaSummary author_summary = 8 [(field_option).column_group = AUTHOR_SUMMARY, (column_option).column_name = "aut_sum_", (column_option).column_suffix = "${entity_id}"];

  // CP
  repeated MetaSummary cp_summary = 9 [(field_option).column_group = CP_SUMMARY, (column_option).column_name = "cp_sum_", (column_option).column_suffix = "${entity_id}"];

  //类别，三级分类
  repeated CategorySummary category = 10 [(field_option).column_group = CATEGORY_SUMMARY, (column_option).column_name = "cate_", (column_option).column_suffix = "${category_id}"];
  
  // 版权信息(废弃)
  // 漫画可能对应多个合同，使用repeated multi_puyu字段
  optional Puyu puyu = 11 [deprecated = true, (field_option).column_group = PUYU, (column_option).column_name = "puyu"];
  
  //付费
  optional Boss boss = 12 [(field_option).column_group = BOSS, (column_option).column_name = "boss"];
  
  //相关图片，包括封面图
  repeated LocaleImage local_image = 13 [(field_option).column_group = LOCAL_IMAGE, (column_option).column_name = "loc_image_", (column_option).column_suffix = "${language}_${type}"];

  //运营信息；
  optional BookBase base = 14 [(field_option).column_group = BASE, (column_option).column_name = "base"];

  //播控
  repeated Publication publication= 15 [(field_option).column_group = BOOK_PUBLICATION, (column_option).column_name = "publication_", (column_option).column_suffix = "${platform}"];

  //最新章发布时间，由奇谱自动计算；
  optional int64 chapter_last_online_time = 16 [(field_option).column_group = LAST_ONLINE_TIME, (column_option).column_name = "cha_las_onl_time"];
  
  //圈子关联
  optional PaopaoSummary paopao_summary = 17 [(field_option).column_group = PAOPAO_SUMMARY, (column_option).column_name = "paopao_sum"];
  //章节
  repeated MetaSummary chapter_summary = 18 [(field_option).column_group = CHILD_CHAPTER, (column_option).column_name = "chd_cap_", (column_option).column_suffix = "${entity_id}"];


  // 日销量
  optional int64 sales_yesterday = 19 [(field_option).column_group = SALES_YESTERDAY, (column_option).column_name = "sal_yest", (track_option).notracker=true];
  // 周销量
  optional int64 sales_week= 20 [(field_option).column_group = SALES_WEEK, (column_option).column_name = "sal_week", (track_option).notracker=true];
  // 月销量
  optional int64 sales_month = 21 [(field_option).column_group = SALES_MONTH, (column_option).column_name = "sal_month", (track_option).notracker=true];
  // 总销量
  optional int64 sales_volume = 22 [default = 0, (field_option).column_group = SALES_VOLUME, (column_option).column_name = "sal_vol", (track_option).notracker=true];
  
  // 日展示量
  optional int64 click_count_yesterday = 23 [(field_option).column_group = CLICK_COUNT_YESTERDAY, (column_option).column_name = "cli_count_yest", (track_option).notracker=true];
  // 周展示量
  optional int64 click_count_week= 24 [(field_option).column_group = CLICK_COUNT_WEEK, (column_option).column_name = "cli_count_week", (track_option).notracker=true];
  // 月展示量
  optional int64 click_count_month = 25 [(field_option).column_group = CLICK_COUNT_MONTH, (column_option).column_name = "cli_count_month", (track_option).notracker=true];
  // 总展示量
  optional int64 click_count = 26 [default = 0, (field_option).column_group = CLICK_COUNT, (column_option).column_name = "cli_count", (track_option).notracker=true];
  
  // 日打赏
  optional int64 reward_yesterday = 27 [(field_option).column_group = REWARD_YESTERDAY, (column_option).column_name = "rew_yest", (track_option).notracker=true];
  // 周打赏
  optional int64 reward_week= 28 [(field_option).column_group = REWARD_WEEK, (column_option).column_name = "rew_week", (track_option).notracker=true];
  // 月打赏
  optional int64 reward_month = 29 [(field_option).column_group = REWARD_MONTH, (column_option).column_name = "rew_month", (track_option).notracker=true];
  // 总打赏
  optional int64 reward_count = 30 [(field_option).column_group = REWARD_COUNT, (column_option).column_name = "rew_count", (track_option).notracker=true];

  //版权信息
  repeated Puyu multi_puyu = 31 [(field_option).column_group = MULTI_PUYU, (column_option).column_name = "multipuyu_", (column_option).column_suffix = "${contract_code}"];

  //完结状态
  optional BookAvailableStatus serialize_status = 32 [(field_option).column_group = AVAILABLE_STATUS, (column_option).column_name = "avail"];

  //收藏量，总量
  optional int64 collect_count = 33 [default = 0, (field_option).column_group = COLLECT_COUNT, (column_option).column_name = "col_count", (track_option).notracker=true];
  //日收藏量
  optional int64 collect_count_day = 34 [default = 0,(field_option).column_group = COLLECT_COUNT_DAY, (column_option).column_name = "col_count_day", (track_option).notracker=true];
  //周收藏量
  optional int64 collect_count_week = 35 [default = 0,(field_option).column_group = COLLECT_COUNT_WEEK, (column_option).column_name = "col_count_week", (track_option).notracker=true];
  //月收藏量
  optional int64 collect_count_month = 36 [default = 0, (field_option).column_group = COLLECT_COUNT_MONTH, (column_option).column_name = "col_count_month", (track_option).notracker=true];

  //下载量，总量
  optional int64 download_count = 37 [default = 0, (field_option).column_group = DOWNLOAD_COUNT, (column_option).column_name = "down_count", (track_option).notracker=true];
  //日下载量
  optional int64 download_count_day = 38 [default = 0,(field_option).column_group = DOWNLOAD_COUNT_DAY, (column_option).column_name = "down_count_day", (track_option).notracker=true];
  //周下载量
  optional int64 download_count_week = 39 [default = 0,(field_option).column_group = DOWNLOAD_COUNT_WEEK, (column_option).column_name = "down_count_week", (track_option).notracker=true];
  //月下载量
  optional int64 download_count_month = 40 [default = 0, (field_option).column_group = DOWNLOAD_COUNT_MONTH, (column_option).column_name = "down_count_month", (track_option).notracker=true];

  // 总页数 从ComicBook.Metadata column中移出，单独列出来（metadata由媒资维护，这两个字段需要移出来由运营维护）
  optional int64 online_page_count = 41 [default = 0, (field_option).column_group = ONLINE_PAGE_COUNT, (column_option).column_name = "online_page_count", (track_option).notracker=true] ;

  // 漫画总话数 从ComicBook.Metadata column中移出，单独列出来（metadata由媒资维护，这两个字段需要移出来由运营维护）
  optional int64 chapter_count = 42  [default = 0, (field_option).column_group = CHAPTER_COUNT, (column_option).column_name = "chapter_count", (track_option).notracker=true];

  //关联的ip实体的id
  optional int64 ip_id = 43 [(field_option).column_group = IP_ID, (column_option).column_name = "ip_id"];

    // IP相关信息
  optional IntellectualPropertySummary ip_summary = 44 [(field_option).column_group = IP_SUMMARY, (column_option).column_name = "ip_sum"];
  //漫画PCW页面信息
  optional BookPageInfo page_info = 45 [(field_option).column_group = PAGE_INFO, (column_option).column_name = "c_45_n"];
  //漫画更新信息
  optional ComicBookUpdateInfo update_info = 46 [(field_option).column_group = UPDATE_INFO, (column_option).column_name = "c_46_n"];
  //付费控制信息（漫画/文学/轻小说）
  repeated PublicatonChargeControl charge_control = 47 [(field_option).column_group = CHARGE_CONTROL, (column_option).column_name = "c_47_n_", (column_option).column_suffix = "${platform}"];
}
