// Define ShowRoom info.
// 直播信息
message ShowRoom {
  //option
  option (entity_option).table = SHOW_ROOM_TABLE;
  option (entity_option).entity_name = "showRoom";
  option (table_option).hbase_table_name = "qipu_show_room_table";
  option (entity_option).entity_id_type = SHOW_ROOM;

  required int64 id = 1 [(column_option).is_auto_set = true];
  optional string url = 2 [(field_option).column_group = URL, (column_option).column_name = "url"]; // 直播间地址；
  optional int64 current_presenter_id = 3 [(field_option).column_group = CURRENT_PRESENTER_ID, (column_option).column_name = "current_presenter_id"]; // 当前主播；

  // 房间当前的开播状态
  enum ShowStatus{
    ONGOING = 1; // 直播中
    CLOSED = 2; // 未开播
    UPCOMING = 3;//即将直播
  }
  optional ShowStatus show_status = 4 [(field_option).column_group = SHOW_STATUS, (column_option).column_name = "show_status"]; // 房间当前的开播状态

  optional int64 start_time = 5 [(field_option).column_group = START_TIME, (column_option).column_name = "start_time"]; // 房间开始直播的时间
  optional int32 audience_count = 6 [(field_option).column_group = AUDIENCE_COUNT, (column_option).column_name = "audience_count", (track_option).notracker=true]; // 当前在直播间内观看直播的用户数量

  enum RoomType{
    PERSONAL = 1; // 个人房
    FAMILY = 2; // 家族房
  }
  optional RoomType room_type = 7 [(field_option).column_group = ROOM_TYPE, (column_option).column_name = "room_type"]; // 当前房间的类型
  optional int32 recommend_rate = 8 [(field_option).column_group = RECOMMEND_RATE, (column_option).column_name = "recommend_rate"]; // 推荐度
  optional string recommend_remark = 9 [(field_option).column_group = RECOMMEND_REMARK, (column_option).column_name = "recommend_remark"]; // 推荐语
  // 单向的
  repeated MetaSummary recommend_image = 10 [(field_option).column_group = CHILD_RECOMMEND_IMAGE, (column_option).column_name = "recommend_image_", (column_option).column_suffix = "${entity_id}"]; // 推荐图
  // 单向的
  repeated MetaSummary show_image =11 [(field_option).column_group = CHILD_SHOW_IMAGE, (column_option).column_name = "show_image_", (column_option).column_suffix = "${entity_id}"]; // 主播开播时候设置的图片

  optional bool deleted = 12 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];
  optional int64 last_update_time = 13 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];

  //多个主播id
  repeated MetaSummary current_presenter = 14 [(field_option).column_group = CHILD_CURRENT_PRESENTER, (column_option).column_name = "cur_pre_", (column_option).column_suffix = "${entity_id}"];
  //直播房间名称
  optional string show_room_name = 15 [(field_option).column_group = SHOW_ROOM_NAME, (column_option).column_name = "show_room_name"];
}
