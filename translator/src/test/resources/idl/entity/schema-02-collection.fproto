/**
 * @brief 02剧集
 * @details 一个collection可以包含多个episode和album，一个episode和album可以属于多个collection
 * collection之间不能嵌套。
 * album下只能是episode，episode只能属于一个album，episode可以属于多个collection
 **/
message Collection {
  //option
  option (entity_option).table = COLLECTION_TABLE;
  option (entity_option).entity_name = "collection";
  option (table_option).hbase_table_name = "qipu_collection_table";
  option (entity_option).entity_id_type = COLLECTION;
  //集合id
  required int64 id = 1[(column_option).is_auto_set = true];
  //不变数据
  optional Metadata metadata = 2 [(field_option).column_group = METADATA, (column_option).column_name = "meta"];
  //是否删除标志
  optional bool deleted = 3 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];
  //专辑摘要
  repeated MetaSummary album_summary = 4 [(field_option).column_group = CHILD_ALBUM, (column_option).column_name = "chd_alb_", (column_option).column_suffix = "${entity_id}", (field_option).is_repeated_column_notified = true];
  // ugc_episode, episode（视频摘要）
  repeated MetaSummary episode_summary = 5 [(field_option).column_group = CHILD_EPISODE, (column_option).column_name = "chd_epd_", (column_option).column_suffix = "${entity_id}", (field_option).is_repeated_column_notified = true];
  //人物摘要
  repeated MetaSummary people_summary = 6 [(field_option).column_group = CHILD_PEOPLE, (column_option).column_name = "chd_pep_", (column_option).column_suffix = "${entity_id}"];
  //图片摘要
  repeated MetaSummary image_summary = 7 [(field_option).column_group = CHILD_IMAGE, (column_option).column_name = "chd_img_", (column_option).column_suffix = "${entity_id}"];
  // Define the elements of playlist
  //播单子集摘要
  repeated MetaSummary video_group_summary = 8 [(field_option).column_group = CHILD_VIDEO_GROUP, (column_option).column_name = "chd_vgp_", (column_option).column_suffix = "${entity_id}", (field_option).is_repeated_column_notified = true];
  //搜索引擎优化信息
  optional Seo  seo = 9 [(field_option).column_group = SEO, (column_option).column_name = "seo"];
  optional CommonBase common_base = 38 [(field_option).column_group = COMMON_BASE, (column_option).column_name = "cmbase"];
  //对应的vrs信息
  optional Base base = 10 [(field_option).column_group = BASE, (column_option).column_name = "base"];
  optional Base pps_base = 31 [(field_option).column_group = PPS_BASE, (column_option).column_name = "ppsbase"];
  optional Boss boss = 11 [(field_option).column_group = BOSS, (column_option).column_name = "boss"];

  // Below 5 fields are deprecated
  // Only stores play counts statistics data for below
  // stats_pc,stats_pad,stats_phone,stats_tv
  optional Stats stats_pc = 12 [(field_option).column_group = STATS_PC, (column_option).column_name = "st_pc", (track_option).notracker=true];
  optional Stats stats_pad = 20 [(field_option).column_group = STATS_PAD, (column_option).column_name = "st_pad", (track_option).notracker=true];
  optional Stats stats_phone = 21 [(field_option).column_group = STATS_PHONE, (column_option).column_name = "st_phn", (track_option).notracker=true];
  optional Stats stats_tv = 22 [(field_option).column_group = STATS_TV, (column_option).column_name = "st_tv", (track_option).notracker=true];
  // Only stores up and down counts statistics data
  optional Stats up_down = 23;

  optional int64 display_play_count = 25 [(column_option).is_vint64 = true, (field_option).column_group = DISPLAY_PLAY_COUNT, (column_option).column_name = "dpcnt", (track_option).notracker=true];
  optional int64 play_count = 26 [(column_option).is_vint64 = true, (field_option).column_group = PLAY_COUNT, (column_option).column_name = "pycnt", (track_option).notracker=true];
  optional int64 comments_count = 27 [(column_option).is_vint64 = true, (field_option).column_group = COMMENT_COUNT, (column_option).column_name = "cmtcnt", (track_option).notracker=true];
  optional int64 share_count = 28 [(column_option).is_vint64 = true, (field_option).column_group = SHARE_COUNT, (column_option).column_name = "shrcnt", (track_option).notracker=true];
  optional int64 up_count = 29 [(column_option).is_vint64 = true, (field_option).column_group = UP_COUNT, (column_option).column_name = "upcnt", (track_option).notracker=true];
  optional int64 down_count = 30 [(column_option).is_vint64 = true, (field_option).column_group = DOWN_COUNT, (column_option).column_name = "dwncnt", (track_option).notracker=true];
  optional int64 subscribe_count = 37 [(column_option).is_vint64 = true, (field_option).column_group = SUBSCRIBE_COUNT, (column_option).column_name = "ssbcnt", (track_option).notracker=true];

  optional int64 douban_id = 13 [(field_option).column_group = DOUBAN_ID, (column_option).column_name = "db_id"];

  repeated string tag = 14 [(column_option).has_value = false, (field_option).column_group = TAG, (column_option).column_name = "tag_"];

  // Store <name,value> pair specific terms
  repeated KeyValuePair key_value_pair = 15 [(field_option).column_group = KEY_VALUE_PAIR, (column_option).column_name = "kvp_", (column_option).column_suffix = "${name}", (field_option).is_repeated_column_notified = true];
  //最后更新时间
  optional int64 last_update_time = 16 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];

  // Related to Qitan of this entity
  optional Qitan qitan = 17 [(field_option).column_group = QITAN, (column_option).column_name = "qtn"];

  //集合类型
  optional CollectionCommon.CollectionType collection_type = 18 [(field_option).column_group = COLLECTION_TYPE, (column_option).column_name = "ctp"];

  optional CollectionCommon.CollectionSubType collection_sub_type = 19 [(field_option).column_group = COLLECTION_SUB_TYPE, (column_option).column_name = "cstp"];

  optional PagePublishStatus page_publish_status = 24 [default = PAGE_WAIT, (field_option).column_group = PAGE_PUBLISH_STATUS, (column_option).column_name = "ppsts"];

  // Below 2 fields are deprecated
  // Recommended, to use the field of "access_play_control".
  // Support platform and region control.
  optional PlatformRegionControl iqiyi_platform_region_control = 32 [(field_option).column_group = IQIYI_PLATFORM_REGION_CONTROL, (column_option).column_name = "iqiyiprc"];
  optional PlatformRegionControl pps_platform_region_control = 33 [(field_option).column_group = PPS_PLATFORM_REGION_CONTROL, (column_option).column_name = "ppsprc"];

  // Total duration of all child episodes.
  optional int32 total_duration = 34 [(field_option).column_group = TOTAL_DURATION, (column_option).column_name = "ttdt"];

  optional UgcPlayListInfo ugc_play_list_info = 35 [(field_option).column_group = UGC_PLAY_LIST_INFO, (column_option).column_name = "ugc_pli"];

  optional Brand which_brand_create = 36 [(field_option).column_group = WHICH_BRAND_CREATE, (column_option).column_name = "wbdc"];

  optional VoteInfo vote_info = 39 [(field_option).column_group = VOTE_INFO, (column_option).column_name = "voteinfo"];

  // Support platform and region play control.
  repeated AccessPlayControl access_play_control = 40 [(field_option).column_group = ACCESS_PLAY_CONTROL, (column_option).column_name = "accplayctrl_", (column_option).column_suffix = "${play_platform}"];

  // Define the top recommend place of pps category for the album, episode, collection or ppsCategory.
  repeated PpsCategoryRanking pps_category_ranking = 41 [(field_option).column_group = PPS_CATEGORY_RANKING, (column_option).column_name = "pps_cat_rk_", (column_option).column_suffix = "${pps_category_id}"];

  // Pps片单.
  optional AutoPlaylistInfo auto_playlist_info = 42 [(field_option).column_group = AUTO_PLAYLIST_INFO, (column_option).column_name = "atplinfo"];

  // 影视资料列表
  repeated MetaSummary film_tv_summary = 43 [(field_option).column_group = CHILD_FILM_TV, (column_option).column_name = "chd_ftv_", (column_option).column_suffix = "${entity_id}"];

  //Define the type of GraphPlaylistType

  enum GraphPlaylistType{
    UNKNOWN_GRAPH_PLAY_LIST_TYPE = -1;
    // Define the timeline of the events and milestones. The subtype of the GraphPlaylistType.
    EVENTS = 1;
    // Define  the auto set with ppc or ugc episodes according to the content association. The subtype of the GraphPlaylistType.
    AUTO_ALBUM = 2;
    // Define the auto set of ppc or ugc episodes according to their theming. The subtype of the GraphPlaylistType.
    AUTO_ALBUM_THEME=3;
  }
  optional GraphPlaylistType graph_playlist_type = 44 [(field_option).column_group = GRAPH_PLAYLIST_TYPE, (column_option).column_name = "gptp"];

  // 顶踩数
  optional float up_down_score = 45 [(field_option).column_group = UP_DOWN_SCORE, (column_option).column_name = "updwnsc", (track_option).notracker=true];
  message Event {
    //相关关键词
    repeated string keyword = 1;
    //事件有效起止时间
    optional StartEndPoint effective_time = 2;
  }
  //事件类相关信息
  optional Event event = 46 [(field_option).column_group = COLLECTION_EVENT, (column_option).column_name = "event"];

  //热度
  optional float heat = 47 [(field_option).column_group = HEAT, (column_option).column_name = "heat"];

  //付费相关信息
  optional ChargeBase charge_base = 48 [(field_option).column_group = CHARGE_BASE, (column_option).column_name = "charge_base"];

  //多地区运营信息
  repeated RegionBase region_base = 49 [(field_option).column_group = REGION_BASE, (column_option).column_name = "reg_base_", (column_option).column_suffix = "${region}"];

  //关联feed信息
  repeated FeedSummary feed_summary = 50 [(field_option).column_group = FEED_SUMMARY, (column_option).column_name = "c_50_n_", (column_option).column_suffix = "${entity_id}"];
  //片段合集关联视频信息
  repeated CutSetRelatedVideoInfo cut_set_related_video_info = 51 [(field_option).column_group = CUT_SET_RELATED_VIDEO_INFO, (column_option).column_name = "c_51_n_", (column_option).column_suffix = "${related_video_id}"];
  //播单类型
  optional PlaylistType playlist_type = 52 [default = UNKNOWN_PLAYLIST_TYPE, (field_option).column_group = PLAYLIST_TYPE, (column_option).column_name = "c_52_n"];
  //关联的专辑
  repeated MetaSummary related_album = 53 [(field_option).column_group = RELATED_ALBUM, (column_option).column_name = "c_53_n_", (column_option).column_suffix = "${entity_id}"];
  //相关推荐（00、01、02、09视频）
  repeated MetaSummary related_recommend_video = 54 [(field_option).column_group = RELATED_RECOMMEND_VIDEO, (column_option).column_name = "c_54_n_", (column_option).column_suffix = "${entity_id}"];
  //播单运营信息
  optional CollectionBase collection_base = 56 [(field_option).column_group = COLLECTION_BASE, (column_option).column_name = "c_56_n"];
}
