// Define the commodity information.
message Commodity {
  //option
  option (entity_option).table = COMMODITY_TABLE;
  option (entity_option).entity_name = "commodity";
  option (table_option).hbase_table_name = "qipu_commodity_table";
  option (entity_option).entity_id_type = COMMODITY;

  required int64 id = 1 [(column_option).is_auto_set = true];

  // The basic information of commodity.
  optional CommodityBase base = 2 [(field_option).column_group = COMMODITY_BASE, (column_option).column_name = "cmdt_base"];

   // The all video of commodity(that contains the main video).
  optional MetaSummary main_episode = 3 [(field_option).column_group = MAIN_EPISODE, (column_option).column_name = "main_epd"];

  // 商品关联视频
  repeated MetaSummary episode_summary = 4 [(field_option).column_group = CHILD_EPISODE, (column_option).column_name = "chd_epd_", (column_option).column_suffix = "${entity_id}", (column_option).order_by = "order,entity_id"];

  // The statistics of commodity.
  optional ItemStat stat = 5 [(field_option).column_group = ITEM_STAT, (column_option).column_name = "item_stat"];

  // The description of commodity.
  optional ItemDescription description = 6 [(field_option).column_group = ITEM_DESCRIPTION, (column_option).column_name = "item_desc"];

  // The status of commodity which on the shelf.
  optional ItemShelving shelving = 7 [(field_option).column_group = ITEM_SHELVING, (column_option).column_name = "item_shelving"];

  // The after sale service of commodity.
  optional ItemAfterSale after_sale = 8 [(field_option).column_group = ITEM_AFTER_SALE, (column_option).column_name = "item_aftsale"];

  // The description before commodity was been delivered.
  optional ItemShipment shipment = 9 [(field_option).column_group = ITEM_SHIPMENT, (column_option).column_name = "item_shiptmt"];

  repeated Sku sku = 10 [(field_option).column_group = SKU, (column_option).column_name = "sku_", (column_option).column_suffix = "${sku_id}"];

  // The extra related description of commodity.
  optional CommodityExtra extra = 11 [(field_option).column_group = COMMODITY_EXTRA, (column_option).column_name = "cmdt_extra"];

  optional int64 last_update_time = 12 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];

  enum Status {
      ONSALE = 1;
      INSTOCK = 2;
  }
  // The status after commodity is uploaded.
  optional Status approval_status = 13 [default = INSTOCK, (field_option).column_group = APPROVAL_STATUS, (column_option).column_name = "appr_status"];

  // Store <name,value> pair specific terms
  repeated KeyValuePair key_value_pair = 14 [(field_option).column_group = KEY_VALUE_PAIR, (column_option).column_name = "kvp_", (column_option).column_suffix = "${name}"];

  optional bool deleted = 15 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];

  /* The basic property list of commodity.
   * Every property contains a pid(ItemProperty.key_id: pid) and vid(ItemProperty.values_id: vid).
   */
  repeated ItemProperty common_property = 16 [(field_option).column_group = ITEM_PROPERTY, (column_option).column_name = "item_property", (column_option).column_suffix = "${key_id}"];

  // 商品关联专辑
  repeated MetaSummary album_summary = 17 [(field_option).column_group = CHILD_ALBUM, (column_option).column_name = "chd_alb_", (column_option).column_suffix = "${entity_id}"];

  // 商品关联偶像
  repeated MetaSummary people_summary = 18 [(field_option).column_group = CHILD_PEOPLE, (column_option).column_name = "chd_pep_", (column_option).column_suffix = "${entity_id}"];

  // 商品关联促销
  repeated Promotion promotion = 19 [(field_option).column_group = PROMOTION, (column_option).column_name = "prom_", (column_option).column_suffix = "${promotion_id}"];

  //商品类目关系
  repeated CommodityCategory commodity_category = 20 [(field_option).column_group = COMMODITY_CATEGORY, (column_option).column_name = "com_cate_", (column_option).column_suffix = "${category_id}"];

  //是否被搜索过滤，true/false
  optional bool reject_search = 21 [default = false, (field_option).column_group = REJECT_SEARCH, (column_option).column_name = "rej_search"];

  // 商品标签
  repeated CommodityTag tag = 22 [(field_option).column_group = COMMODITY_TAG, (column_option).column_name = "com_tag_", (column_option).column_suffix = "${id}"];

}
