2017/12/27 (2.0.171227)
11赛事实体下添加参赛者枚举字段
1. /knowledge/pub/common.proto
/**
 * @brief 选手类型
 **/
enum CompetitorType {
  //未知类型
  UNKNOWN_COMPETITOR_TYPE = -1;
  //运动员
  COMPETITOR_TYPE_PLAYER = 0;
  //运动队
  COMPETITOR_TYPE_TEAM = 1;
}
2. /knowledge/pub/metadatas.proto
message CompetitorInfo {
  //选手类型
  optional CompetitorType competitor_type = 12 [default = UNKNOWN_COMPETITOR_TYPE];
}
2017/12/27 (2.0.171227)
09实体ugc_check节点下增加 check_result_reason
1. /knowledge/pub/properties.proto
message UgcCheck {
  //审核结果的处理原因（由监控中心维护，参见http://wiki.qiyi.domain/pages/viewpage.action?pageId=165221501）
  optional int32 check_result_reason = 8;
  //检查时间（时间戳单位：毫秒）
  optional int64 check_time = 9;
}
2017/12/21 (2.0.171221)
02剧集新增长视频信息
1. /knowledge/pub/properties.proto
/**
 * @brief 片段合集关联视频信息
 **/
message CutSetRelatedVideoInfo {
  //片段合集关联的视频ID
  optional int64 related_video_id = 1;
  //片段合集的顺序
  optional int32 cut_set_order = 2;
}
2. /entity/schema-02-collection.fproto
message Collection {
  //片段合集关联视频信息
  repeated CutSetRelatedVideoInfo cut_set_related_video_info = 51 [(field_option).column_group = CUT_SET_RELATED_VIDEO_INFO, (column_option).column_name = "c_51_n_", (column_option).column_suffix = "${related_video_id}"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  CUT_SET_RELATED_VIDEO_INFO = 670;
}
2017/12/20 (2.0.171220)
00下format中的dynamic_ranges内增加枚举值
1. /knowledge/pub/formats.proto
enum DynamicRange {
    //码流动态范围采用SDR_PLUS标准
    SDR_PLUS = 3;
}
2017/12/20 (2.0.171220)
1. /ip_resys/resys.proto
message RecResult {
    repeated RecItem rec_item = 1;
    optional int64 ip_id = 2;
}

2017/12/19 (2.0.171219)
39图书新增两种签约方式
1. /knowledge/pub/common.proto
enum BookSigningType {
  //整本买断
  BOOK_BUYOUT_ALL = 5;
  //整本保底
  BOOK_GUARANTEED_BUYOUT_ALL = 6;
}
2017/12/19 (2.0.171219)
02播单增加cut段集合
1. /entity/schema-02-collection.fproto
message Collection {
  //关联feed信息
  repeated FeedSummary feed_summary = 50 [(field_option).column_group = FEED_SUMMARY, (column_option).column_name = "c_50_n_", (column_option).column_suffix = "${entity_id}"];
}
2. /knowledge/pub/common.proto
enum CollectionType {
    //片段合集
    CUT_SET = 10;
}
2017/12/18 (2.0.171218)
47实体新增明星地址字段
1. /knowledge/pub/metadatas.proto
message MetaSummary {
  //明星地区信息
  optional string nationality = 41;
}
2017/12/12 (2.0.171212)
47下圈子用户等级头衔功能添加新字段
1. /knowledge/pub/properties.proto
/**
 * @brief 粉丝等级头衔
 **/
message FansLevelInfo {
  //用户等级（1-15级）
  optional int32 level = 1;
  //用户头衔
  optional string title = 2;
}
2. /entity/schema-47-circle.fproto
message Circle {
  //粉丝名称
  optional string fans_name = 42 [(field_option).column_group = FANS_NAME, (column_option).column_name = "c_42_n"];
  //粉丝等级头衔
  repeated FansLevelInfo fans_level_info = 43 [(field_option).column_group = FANS_LEVEL_INFO, (column_option).column_name = "c_43_n_", (column_option).column_suffix = "${level}"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  FANS_NAME = 665;
  FANS_LEVEL_INFO = 666;
}
2017/12/11 (2.0.171211)
敏感节目屏蔽广告位
1. /knowledge/pub/properties.proto
message LiveEpisodeBase {
  //是否展示广告
  optional bool is_display_ad = 39 [default = false];
  //是否展示推荐
  optional bool is_display_recommend = 40 [default = false];
}
message OperationControlBase {
  //是否屏蔽广告
  optional bool is_display_ad = 10 [default = false];
}
2. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //是否展示广告
  optional bool is_display_ad = 118 [default = false, (field_option).column_group = IS_DISPLAY_AD, (column_option).column_name = "c_118_n"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  IS_DISPLAY_AD = 664;
}
2017/12/08 (2.0.171208)
00实体电影资料&视频资料合并
1. /knowledge/pub/properties.proto
/**
 * @brief 电影票统计相关信息（电影票写入）
 **/
message MovieTicketStatistics {
  //购票用户评分
  optional double ticket_user_score = 1;
  //购票评分人数
  optional int64 ticket_score_number = 2;
  //编辑评分
  optional double editor_score = 3;
  //是否有排期
  optional bool has_cinema_schedule = 4 [default = false];
}
/**
 * @brief 电影票信息（乐高写入）
 **/
message MovieTicketBase {
  //是否院线电影
  optional bool is_cinema_movie = 1 [default = false];
  //一句话介绍
  optional string prompt_description = 2;
}
/**
 * @brief 电影票统计相关信息（电影票写入）
 **/
message MovieTicketStatistics {
  //购票用户评分
  optional double ticket_user_score = 1;
  //购票评分人数
  optional int64 ticket_score_number = 2;
  //编辑评分
  optional double editor_score = 3;
  //是否有排期
  optional bool has_cinema_schedule = 4 [default = false];
}
2. /entity/schema-00-episode.fproto
message Episode {
  //电影票统计相关信息（电影票写入）
  optional MovieTicketStatistics movie_ticket_statistics = 238 [(field_option).column_group = MOVIE_TICKET_STATISTICS, (column_option).column_name = "c_238_n"];
  //电影票信息（乐高写入）
  optional MovieTicketBase movie_ticket_base = 239 [(field_option).column_group = MOVIE_TICKET_BASE, (column_option).column_name = "c_239_n"];
}
3. /knowledge/pub/metadatas.proto
message MetaMultilingualInfo {
  //爱奇艺评级描述
  optional string qiyi_rank_description = 7;
  //爱奇艺评级关联图片地址
  optional string qiyi_rank_picture_url = 8;
  //其他国家评级（文本）
  repeated string other_countries_rank_description = 9;
}
4. /knowledge/pub/common.proto
enum ColumnGroup {
  MOVIE_TICKET_STATISTICS = 662;
  MOVIE_TICKET_BASE = 663;
}
2017/12/07 (2.0.171207)
47实体CircleBusinessType新增一个枚举
1. /knowledge/pub/common.proto
enum CircleBusinessType {
  //QIM聊天业务
  CIRCLE_BUSINESS_TYPE_QIM = 21;
}
2017/12/07 (2.0.171207)
33目录实体增加适用频道标签注解字段
1. /knowledge/pub/common.proto
/**
 * @brief 标签适用频道
 **/
enum CategoryAvailableBookChannel {
  //未知
  UNKNOWN_CATEGORY_AVAILABLE_BOOK_CHANNEL = -1;
  //男生频道
  CATEGORY_AVAILABLE_BOOK_CHANNEL_MALE = 0;
  //女生频道
  CATEGORY_AVAILABLE_BOOK_CHANNEL_FEMALE = 1;
  //已出版（有出版编号的书）
  CATEGORY_AVAILABLE_BOOK_CHANNEL_PUBLISHED = 2;
  //文学
  CATEGORY_AVAILABLE_BOOK_CHANNEL_LITERATURE = 3;
}
2. /knowledge/pub/properties.proto
message CategoryBase {
  //标签描述、注解
  optional string category_description = 26;
  //标签适用频道
  repeated CategoryAvailableBookChannel available_book_channel = 27;
  //开放平台是否展示
  optional int32 open_platform_display = 28;
}
2017/12/07 (2.0.171207)
baidu_summary增加生效时间字段
1. /knowledge/pub/metadatas.proto
message BaiduSummary {
  //有效时间（指截止时间，时间戳单位秒）
  optional int64 effective_time = 41;
  //是否PGC视频
  optional bool is_pgc = 42 [default = false];
}
2017/12/07 (2.0.171207)
00.09下editor_recommend_level_reason迁移至根节点
1. /entity/schema-00-episode.fproto
message Episode {
  //推荐等级的理由
  repeated string editor_recommend_level_reason = 240 [(field_option).column_group = EDITOR_RECOMMEND_LEVEL_REASON, (column_option).column_name = "c_240_n_"];
}
2. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //推荐等级的理由
  repeated string editor_recommend_level_reason = 121 [(field_option).column_group = EDITOR_RECOMMEND_LEVEL_REASON, (column_option).column_name = "c_121_n_"];
}
2017/12/07 (2.0.171207)
baidu_summary新增内容质量字段
1. /knowledge/pub/metadatas.proto
message BaiduSummary {
  //内容质量
  optional string content_quality = 43;
}
2017/12/07 (2.0.171207)
1. knowledge/pub/tracker/tracker_service.proto
message ChangeLog{
    optional string ip = 16;    // 写入方IP地址
    optional bool is_c2f = 17 [default = false];  // 是否是c2f写入
}

2. message/wal_message.proto
message WALMessage {
  optional bool is_c2f = 17 [default = false];  // 是否是c2f写入
}

2017/12/06 (2.0.171206)
33实体上subtype字段新增枚举值
1. /knowledge/pub/common.proto
enum CategorySubType {
  //标签（三级分类用枚举NULL，标签用TAG，轻小说漫画等业务共用）
  CATEGORY_SUB_TYPE_TAG = 3;
}
2017/12/06 (2.0.171206)
39实体上tag_summary下source_type新增枚举值
1. /knowledge/pub/common.proto
enum TagSummarySourceType {
  //CP商接口中提供的标签
  TAG_SUMMARY_SOURCE_TYPE_CP = 6;
}
2017/12/11 (2.0.171211)
WriteEntityRequest、WriteResponse写入bridge用tag
1. /knowledge/pub/write_service.proto
message WriteResponse {
  //option
  option (knowledge.pub.service_message_options).method_name = "writeEntity";
  option (knowledge.pub.service_message_options).type = RESPONSE;

  required RpcStatusInfo rpc_status_info = 1;
  // write service session id
  optional int64 session_id = 2;
}

// Proto for setEntity method defined in write_rpc_service.thrift
message WriteEntityRequest {
  //option
  option (request_options).set_interface = "writeEntity";
  option (knowledge.pub.service_message_options).method_name = "writeEntity";
  option (knowledge.pub.service_message_options).type = REQUEST;

  required User user = 1;

  required int64 entity_id = 2;

  optional bytes merge_entity = 3;

  optional bytes delete_entity = 4;

  // Whether to send message to activeMQ to notify audience. If you don't know
  // what exactly it is, leave it as default.
  optional bool should_notify_audience = 5 [default = true];

  // If you're doing a batch update,
  // please consider setting is_updated_in_batch_mode = true.
  // So the audience will know this is a batch update,
  // in which they may optimize the message processing.
  optional bool is_updated_in_batch_mode = 6 [default = false];

  // 消息优先级
  optional Priority priority = 7;

  // 写入站点
  repeated SiteType site = 8;
}
2017/12/06 (2.0.171206)
39下文学业务中写入3个字段
1. /entity/schema-39-book.fproto
message Book {
  //书籍总加入书架人数
  optional int64 added_to_bookshelf_uv = 93 [(field_option).column_group = ADDED_TO_BOOKSHELF_UV_COUNT, (column_option).column_name = "c_93_n"];
  //书籍总阅读人数
  optional int64 read_book_uv = 94 [(field_option).column_group = READ_BOOK_UV_COUNT, (column_option).column_name = "c_94_n"];
  //书籍总订阅人数
  optional int64 saled_book_uv = 95 [(field_option).column_group = SALED_BOOK_UV_COUNT, (column_option).column_name = "c_95_n"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  ADDED_TO_BOOKSHELF_UV_COUNT = 659;
  READ_BOOK_UV_COUNT = 660;
  SALED_BOOK_UV_COUNT = 661;
}
2017/12/06 (2.0.171206)
0570头条增加hot状态更改字段
1. /entity/schema-0570-head-line.fproto
message HeadLine {
  //热度状态更改时间（时间戳，毫秒）
  optional int64 hot_status_change_time = 53 [(field_option).column_group = HOT_STATUS_CHANGE_TIME, (column_option).column_name = "c_53_n"];
  //推荐等级更改时间（时间戳，毫秒）
  optional int64 recommend_level_change_time = 54 [(field_option).column_group = RECOMMEND_LEVEL_CHANGE_TIME, (column_option).column_name = "c_54_n"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  HOT_STATUS_CHANGE_TIME = 657;
  RECOMMEND_LEVEL_CHANGE_TIME = 658;
}
2017/12/05 (2.0.171205)
23直播增加tab控制前端展示内容的运营字段
1. /knowledge/pub/properties.proto
message LiveEpisodeTabControl {
  //是否为默认展示的tab
  optional bool is_default_tab = 5 [default = false];
}
2017/12/05 (2.0.171205)
51事件实体增加素材相关字段
1. /knowledge/pub/properties.proto
/**
 * @brief 话题素材相关信息
 **/
message EventMaterialInfo {
  //素材ID
  optional int64 material_id = 1;
  //素材顺序
  optional int32 order = 2;
  //话题素材类型
  optional EventMaterialType material_type = 3 [default = UNKNOWN_EVENT_MATERIAL_TYPE];
}
2. /knowledge/pub/common.proto
/**
 * @brief 通用平台类型
 **/
enum GeneralPlatform {
  //未知类型
  UNKNOWN_GENERAL_PLATFORM = -1;
  //所有平台
  GENERAL_PLATFORM_ALL = 0;
  //IOS端
  GENERAL_PLATFORM_IOS = 1;
  //安卓端
  GENERAL_PLATFORM_ANDROID = 2;
}
/**
 * @brief 话题素材类型
 **/
enum EventMaterialType {
  //未知类型
  UNKNOWN_EVENT_MATERIAL_TYPE = -1;
  //视频素材
  EVENT_MATERIAL_TYPE_VIDEO = 0;
  //音乐素材
  EVENT_MATERIAL_TYPE_MUSIC = 1;
}
/**
 * @brief 通用平台类型
 **/
enum GeneralPlatform {
  //未知类型
  UNKNOWN_GENERAL_PLATFORM = -1;
  //所有平台
  GENERAL_PLATFORM_ALL = 0;
  //IOS端
  GENERAL_PLATFORM_IOS = 1;
  //安卓端
  GENERAL_PLATFORM_ANDROID = 2;
}
enum ColumnGroup {
  MATERIAL_INFO = 655;
  GENERAL_PLATFORM = 656;
}
3. /entity/schema-51-event.fproto
message Event {
  //话题素材信息
  repeated EventMaterialInfo material_info = 17 [(field_option).column_group = MATERIAL_INFO, (column_option).column_name = "c_17_n_", (column_option).column_suffix = "${material_id}"];
  //通用平台类型
  optional GeneralPlatform general_platform = 18 [default = UNKNOWN_GENERAL_PLATFORM, (field_option).column_group = GENERAL_PLATFORM, (column_option).column_name = "c_18_n"];
}
2017/12/04 (2.0.171204)
12资源位实体增加一种图片类型的url
1. /knowledge/pub/metadatas.proto
message ResourceMetaSummary {
  //TV端个性图片地址
  optional string special_thumbnail_url = 11;
}
2017/12/04 (2.0.171204)
23直播增加tab控制前端展示内容的运营字段
1. /knowledge/pub/properties.proto
/**
 * @brief 播放页tab内容控制
 **/
message LiveEpisodeTabControl {
  //tab类型
  optional LiveEpisodeTabType tab_type = 1 [default = UNKNOWN_LIVE_EPISODE_TAB_TYPE];
  //显示名称
  optional string tab_name = 2;
  //是否显示tab
  optional bool is_display_tab = 3 [default = false];
  //活动地址
  optional string activity_url = 4;
}
message LiveEpisodeBase {
  //播放页tab内容控制
  repeated LiveEpisodeTabControl tab_control = 41;
}
2. /knowledge/pub/common.proto
/**
 * @brief tab类型
 **/
enum LiveEpisodeTabType {
  //未知类型
  UNKNOWN_LIVE_EPISODE_TAB_TYPE = -1;
  //聊天室
  LIVE_EPISODE_TAB_TYPE_CHAT_ROOM = 0;
  //看更多
  LIVE_EPISODE_TAB_TYPE_OTHER_LIVE_EPISODE = 1;
  //排行榜
  LIVE_EPISODE_TAB_TYPE_TOP_LIST = 2;
  //活动
  LIVE_EPISODE_TAB_TYPE_ACTIVITY = 3;
}
2017/12/04 (2.0.171204)
48下feed实体添加新的用户类型
1. /knowledge/pub/common.proto
enum FeedSourceType {
  //文学发布
  FEED_BOOK = 19;
}
enum FeedContentType {
  //片段集合
  FEED_CUT_COLLECTION = 106;
}
2017/12/01 (2.0.171201)
48feed增加啪啪奇feed类型
1. /knowledge/pub/common.proto
enum FeedContentType {
  //啪啪奇素材视频feed
  FEED_PAPAQI_MATERIAL = 105;
}
