2017/05/25 (2.0.170525)
圈子实体上增加分类标签用于内容细分和统计
1. /entity/schema-47-circle.fproto
message Circle {
  //圈子标签
  optional string circle_tag = 37 [(field_option).column_group = CIRCLE_TAG, (column_option).column_name = "circle_tag"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  CIRCLE_TAG = 572;
}
2017/05/25 (2.0.170525)
1. knowledge/pub/properties.proto
message Subsite {
  // 废弃，不再写入
  optional SubsiteLevel subsite_level = 3 [deprecated = true];

  // 地方站相关性得分，目前取值范围为0.0~2.0
  optional float relevance_score = 4 [default = 0.0];

  // 人工推荐等级
  optional SubsiteRecommendLevel recommend_level = 5 [default = SUBSITE_RECOMMEND_LEVEL_NOT_RECOMMENDED];
}

2. knowledge/pub/common.proto
// 子站推荐级别
enum SubsiteRecommendLevel {
  UNKNOWN_SUBSITE_RECOMMEND_LEVEL = -1;
  // 不推荐
  SUBSITE_RECOMMEND_LEVEL_NOT_RECOMMENDED = 0;
  // 正常
  SUBSITE_RECOMMEND_LEVEL_NORMAL = 1;
  // 高
  SUBSITE_RECOMMEND_LEVEL_HIGH = 2;
}

2017/05/23 (2.0.170523)
头条实体增加套壳信息和kvp数据结构
1. /entity/schema-0570-head-line.fproto
message HeadLine {
  //kvp数组，数据定义请咨询业务线。
  repeated KeyValuePair key_value_pair = 34 [(field_option).column_group = KEY_VALUE_PAIR, (column_option).column_name = "kvp_", (column_option).column_suffix = "${name}"];
  //套壳UGC视频运营信息
  optional UgcBase ugc_base = 35 [(field_option).column_group = UGC_BASE, (column_option).column_name = "ugc_base"];
  //是否为奇艺独播剧
  optional bool is_iqiyi_exclusive = 36 [default = false, (field_option).column_group = IS_IQIYI_EXCLUSIVE, (column_option).column_name = "is_iqy_exclv"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  IS_IQIYI_EXCLUSIVE = 575;
}
2017/05/17 (2.0.170517)
1.修改ResysService.resys参数类型
2.去掉无用的namespace
2017/05/16 (2.0.170516)
直播间增加网页url地址
1. /entity/schema-1370-live-room.fproto
message LiveRoom {
  //PCW的url地址
  optional string website_url = 14 [(field_option).column_group = WEBSITE_URL, (column_option).column_name = "website_url"];
  //分平台上下线状态
  repeated Publication publication = 15 [(field_option).column_group = PUBLICATION_COLUMN, (column_option).column_name = "publication_", (column_option).column_suffix = "${platform}"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  WEBSITE_URL = 568;
  PUBLICATION_COLUMN = 573;
}
2017/05/16 (2.0.170516)
阅读项目增加图片尺寸大小的字段
1. /knowledge/pub/properties.proto
message LocaleImage {
  //成图尺寸
  optional string product_image_size = 10;
}
2017/05/15 (2.0.170515)
泡泡业务线增加图集实体并增加跟明星图的关联关系
1. /knowledge/pub/metadatas.proto
/**
 * @brief 图集相关
 **/
message ImageAlbumSummary {
  //图集id
  optional int64 image_album_id = 1;
}
/**
 * @brief meta信息
 **/
message ImageAlbumMetadata {
  //标题
  optional string title = 1;
  //简介
  optional string description = 2;
  //封面图url
  optional string cover_image = 3;
}
/**
 * @brief 原始图片
 **/
message OriginalImage {
  //图片地址
  optional string url = 1;
  //图片文件大小
  optional int64 size = 2;
}
/**
 * @brief 原始图片
 **/
message OriginalImage {
  //图片地址
  optional string url = 1;
  //图片文件大小
  optional int64 size = 2;
}
/**
 * @brief meta信息
 **/
message ImageAlbumMetadata {
  //标题
  optional string title = 1;
  //简介
  optional string description = 2;
  //封面图url
  optional string cover_image = 3;
}
2. /entity/schema-1470-image-album.fproto
/**
 * @brief 图集
 * @details 图集
 **/
message ImageAlbum {
  //option
  option (entity_option).table = IMAGE_ALBUM_TABLE;
  option (entity_option).entity_name = "image_album";
  option (table_option).hbase_table_name = "qipu_image_album_table";
  option (entity_option).entity_id_type = IMAGE_ALBUM;
  //id
  required int64 id = 1 [(column_option).is_auto_set = true];
  //是否删除。奇谱不真正删除数据。 使用这个标识来标记该数据已经删除。
  optional bool deleted = 2 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];
  //meta信息
  optional ImageAlbumMetadata metadata = 3 [(field_option).column_group = METADATA, (column_option).column_name = "meta"];
  //创建时间
  optional int64 create_time = 4 [(field_option).column_group = CREATE_TIME, (column_option).column_name = "cret"];
  //最后更新时间
  optional int64 last_update_time = 5 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];
  //状态
  optional ImageAlbumStatus status = 6 [default = UNKNOWN_IMAGE_ALBUM_STATUS, (field_option).column_group = STATUS, (column_option).column_name = "status"];
  //关联圈子
  repeated PaopaoSummary paopao_summary = 7 [(field_option).column_group = PAOPAO_SUMMARY, (column_option).column_name = "paopao_smy_", (column_option).column_suffix = "${circle_id}"];
  //关联明星id
  optional int64 people_id = 8 [(field_option).column_group = PEOPLE_ID, (column_option).column_name = "people_id"];
  //图片总数
  optional int64 image_count = 9 [(field_option).column_group = IMAGE_COUNT, (column_option).column_name = "image_count"];
}
3. /knowledge/pub/common.proto
/**
 * @brief 状态
 **/
enum ImageAlbumStatus {
  //未知状态
  UNKNOWN_IMAGE_ALBUM_STATUS = -1;
  //上线
  IMAGE_ALBUM_STATUS_ONLINE = 0;
  //下线
  IMAGE_ALBUM_STATUS_OFFLINE = 1;
}
enum ColumnGroup {
  IMAGE_COUNT = 571;
  IMAGE_ALBUM_SUMMARY = 570;
  ORIGINAL_IMAGE = 569;
}
4. /entity/schema-1270-people-image.fproto
message PeopleImage {
  //图集相关
  repeated ImageAlbumSummary image_album_summary = 15 [(field_option).column_group = IMAGE_ALBUM_SUMMARY, (column_option).column_name = "img_abm_smy_", (column_option).column_suffix = "${image_album_id}"];
  //原始图片
  optional OriginalImage original_image = 14 [(field_option).column_group = ORIGINAL_IMAGE, (column_option).column_name = "original_image"];
}
5. /knowledge/pub/common.proto
enum Table {
  //图集
  IMAGE_ALBUM_TABLE = 65;
}
6. knowledge/pub/read_service.proto
message GetEntityResponse {
  // Response for request of entity: ImageAlbum
  repeated ImageAlbum image_album = 67;
}
7. knowledge/pub/write_rpc_service.thrift
service WriteRpcService {
  /**
   * The write interfaces of setting for ImageAlbum.
   * Set all field of ImageAlbum,
   * or throws an exception if this operation is not valid.
   */
  binary setImageAlbum(1:binary set_image_album_request)
      throws (1:InvalidWriteOperation e);
}
8. knowledge/pub/write_service.proto
// Proto for setImageAlbum method defined in write_rpc_service.thrift
message SetImageAlbumRequest {
  //option
  option (request_options).set_table = IMAGE_ALBUM_TABLE;
  option (request_options).set_interface = "setImageAlbum";

  required User user = 1;

  optional ImageAlbum merge_image_album = 2;

  optional ImageAlbum delete_image_album = 3;

  // Whether to send message to activeMQ to notify audience. If you don't know
  // what exactly it is, leave it as default.
  optional bool should_notify_audience = 4 [default = true];

  // If you're doing a batch update,
	  // please consider setting is_updated_in_batch_mode = true.
  // So the audience will know this is a batch update,
  // in which they may optimize the message processing.
  optional bool is_updated_in_batch_mode = 5 [default = false];

  // 消息优先级
  optional Priority priority = 6;
}

2017/05/12 (2.0.170512)
视频实体增加关联电商字段
1. /knowledge/pub/metadatas.proto
/**
 * @brief 关联商品
 **/
message CommoditySummary {
  //商品id
  optional int64 entity_id = 1;
}
2. /entity/schema-00-episode.fproto
message Episode {
  //关联商品
  repeated CommoditySummary commodity_summary = 111 [(field_option).column_group = COMMODITY_SUMMARY, (column_option).column_name = "commodity_summary_", (column_option).column_suffix = "${entity_id}"];
}
2017/05/11 (2.0.170511)
event实体增加是否关联所有明星圈标示
1. /entity/schema-51-event.fproto
message Event {
  //是否关联全部明星圈
  optional bool is_related_all_star_circles = 13 [default = false, (field_option).column_group = IS_RELATED_ALL_STAR_CIRCLES, (column_option).column_name = "is_related_all_star_circles"];
}
2. /knowledge/pub/common.proto
enum ColumnGroup {
  IS_RELATED_ALL_STAR_CIRCLES = 564;
}
2017/05/11 (2.0.170511)
泡泡专辑670实体增加创建平台的来源
1. /knowledge/pub/common.proto
/**
 * @brief 泡泡专辑创建的来源
 **/
enum CreateSource {
  //未知来源
  UNKNOWN_CREATE_SOURCE = -1;
  //运营后台
  CREATE_SOURCE_OPERATION_SYSTEM = 0;
  //圈主后台
  CREATE_SOURCE_MASTER_SYSTEM = 1;
}
enum ColumnGroup {
  CREATE_SOURCE = 565;
}
2. /entity/schema-0670-paopao-collection.fproto
message PaopaoCollection {
  //泡泡专辑创建的来源
  optional CreateSource create_source = 11 [(field_option).column_group = CREATE_SOURCE, (column_option).column_name = "create_source"];
}
2017/05/10 (2.0.170510)
品牌库实体（26）增加跟老品牌库的对应关系
1. /entity/schema-26-item-brand.fproto
message ItemBrand {
  //品牌库实体（26）增加跟老品牌库的对应关系
  optional int64 old_brand_id = 7 [(field_option).column_group = OLD_BRAND_ID, (column_option).column_name = "old_brand_id"];
}
2. /knowledge/pub/properties.proto
message ItemBrandBase {
  //别名
  optional string alias = 6;
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  OLD_BRAND_ID = 567;
}
2017/05/04 (2.0.170504)
视频、专辑实体增加图片尺寸字段
1. /knowledge/pub/properties.proto
message LocaleImage {
  //图片支持的尺寸
  optional string image_size = 9;
}
