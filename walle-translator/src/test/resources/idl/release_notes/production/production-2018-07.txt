2018/07/27 (2.0.180727)
00/09新增地方站信息
1. /entity/schema-00-episode.fproto
message Episode {
  //地方站品类
  repeated SubsiteCategory subsite_category = 254 [(field_option).column_group = SUBSITE_CATEGORY, (column_option).column_name = "c_254_n_"];
}
2. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //地方站品类
  repeated SubsiteCategory subsite_category = 133 [(field_option).column_group = SUBSITE_CATEGORY, (column_option).column_name = "c_133_n_"];
}
2018/07/26 (2.0.180726)
00新增DRM枚举
1. /knowledge/pub/formats.proto
enum DrmType {
    //谷歌研发的一种用于chrome浏览器的网页端DRM
    WIDEVINE_DRM = 7;
    //微软研发的一种用于IE的网页端DRM
    PLAYREADY_DRM = 8;
}
2018/07/26 (2.0.180726)
新增实体PizzaVideo
1. /knowledge/pub/common.proto
enum EntityIdType {
  //短视频项目
  PIZZA_VIDEO = 2170;
}
enum Table {
  //短视频项目
  PIZZA_VIDEO_TABLE = 73;
}
2. /knowledge/fusion/query/properties.proto
message QipuEntity {
  //短视频项目
  optional PizzaVideo pizza_video = 75;
}
3. /knowledge/pub/read_service.proto
message GetEntityResponse {
  // Response for request of entity: PizzaVideo
  repeated PizzaVideo pizza_video = 75;
}
4. /knowledge/pub/write_service.proto

// Proto for setPizzaVideo method defined in write_rpc_service.thrift
message SetPizzaVideoRequest {
  //option
  option (request_options).set_table = PIZZA_VIDEO_TABLE;
  option (request_options).set_interface = "setPizzaVideo";

  required User user = 1;

  optional PizzaVideo merge_pizza_video = 2;
  optional PizzaVideo delete_pizza_video = 3;

  // Whether to send message to activeMQ to notify audience. If you don't know
  // what exactly it is, leave it as default.
  optional bool should_notify_audience = 4 [default = true];

  // If you're doing a batch update,
  // please consider setting is_updated_in_batch_mode = true.
  // So the audience will know this is a batch update,
  // in which they may optimize the message processing.
  optional bool is_updated_in_batch_mode = 5 [default = false];

  // 消息优先级
  optional Priority priority = 6;
}
5. /entity/schema-2170-pizza-video.fproto
/**
 * @brief 短视频项目
 * @details 短视频项目
 **/
message PizzaVideo {
  //option
  option (entity_option).table = PIZZA_VIDEO_TABLE;
  option (entity_option).entity_name = "pizza_video";
  option (table_option).hbase_table_name = "qipu_pizza_video_table";
  option (entity_option).entity_id_type = PIZZA_VIDEO;
  //实体id
  required int64 id = 1 [(column_option).is_auto_set = true];
  //是否删除。奇谱不真正删除数据。 使用这个标识来标记该数据已经删除。
  optional bool deleted = 2 [default = false, (column_option).has_value = false, (field_option).column_group = DELETED, (column_option).column_name = "del"];
  //最后更新时间，任何字段更新都会导致这个最后更新时间被修改。这个字段由奇谱自动维护。
  optional int64 last_update_time = 3 [(field_option).column_group = LAST_UPDATE_TIME, (column_option).column_name = "lut", (column_option).is_auto_set = true, (track_option).notracker=true];
}
2018/07/20 (2.0.180720)
48实体新增文学笔记feed类型
1. /knowledge/pub/common.proto
/**
 * @brief 文学笔记类型的feed
 **/
enum FeedNotesExtendedType {
  //未知类型
  UNKNOWN_FEED_NOTES_EXTENDED_TYPE = -1;
  //文摘
  FEED_NOTES_EXTENDED_TYPE_DIGEST = 0;
  //评论
  FEED_NOTES_EXTENDED_TYPE_COMMENT = 1;
}
enum FeedContentType {
  //文学笔记类型
  FEED_NOTES = 109;
}
2. /knowledge/pub/metadatas.proto
message FeedContentExtendedType {
  //笔记feed子类型
  optional FeedNotesExtendedType notes_extended_type = 9 [default = UNKNOWN_FEED_NOTES_EXTENDED_TYPE];
}
2018/07/20 (2.0.180720)
02播单新增播单类型与关联专辑字段
1. /knowledge/pub/common.proto
/**
 * @brief 播单类型
 **/
enum PlaylistType {
  //未知类型
  UNKNOWN_PLAYLIST_TYPE = -1;
  //包含专辑
  PLAYLIST_TYPE_ALBUM_INCLUSIVE = 0;
  //不包含专辑
  PLAYLIST_TYPE_ALBUM_EXCLUSIVE = 1;
}
enum ColumnGroup {
  PLAYLIST_TYPE = 724;
  RELATED_ALBUM = 725;
  RELATED_RECOMMEND_VIDEO = 726;
}
2. /knowledge/pub/properties.proto
message Base {
  //关联的正片专辑标题
  optional string related_album_title = 42;
}
3. /entity/schema-02-collection.fproto
message Collection {
  //播单类型
  optional PlaylistType playlist_type = 52 [default = UNKNOWN_PLAYLIST_TYPE, (field_option).column_group = PLAYLIST_TYPE, (column_option).column_name = "c_52_n"];
  //关联的专辑
  repeated MetaSummary related_album = 53 [(field_option).column_group = RELATED_ALBUM, (column_option).column_name = "c_53_n_", (column_option).column_suffix = "${entity_id}"];
  //相关推荐（00、01、02、09视频）
  repeated MetaSummary related_recommend_video = 54 [(field_option).column_group = RELATED_RECOMMEND_VIDEO, (column_option).column_name = "c_54_n_", (column_option).column_suffix = "${entity_id}"];
}
2018/07/19 (2.0.180719)
53实体新增认证信息和爱奇艺号用户类型
1. /knowledge/pub/common.proto
/**
 * @brief 爱奇艺号用户类型
 **/
enum IqiyihaoUserType {
  //未知类型
  UNKNOWN_IQIYIHAO_USER_TYPE = -1;
  //普通用户
  IQIYIHAO_USER_TYPE_USER = 1;
  //编辑
  IQIYIHAO_USER_TYPE_EDITOR = 2;
  //普通机器人用户
  IQIYIHAO_USER_TYPE_USER_MACHINE = 3;
  //编辑机器人
  IQIYIHAO_USER_TYPE_EDITOR_MACHINE = 4;
}
/**
 * @brief 业务分成状态
 **/
enum RevenueSharedStatus {
  //未知类型
  UNKNOWN_REVENUE_SHARED_STATUS = -1;
  //参与分成
  REVENUE_SHARED_STATUS_ALLOWED = 0;
  //不参与分成
  REVENUE_SHARED_STATUS_NOT_ALLOWED = 1;
}
/**
 * @brief 上传视频工具权限
 **/
enum UploadVideoToolType {
  //未知类型
  UNKNOWN_UPLOAD_VIDEO_TOOL_TYPE = -1;
  //普通版（写入09表）
  UPLOAD_VIDEO_TOOL_TYPE_COMMON = 0;
  //专业版（写入00表）
  UPLOAD_VIDEO_TOOL_TYPE_PROFESSIONAL = 1;
}
/**
 * @brief 爱奇艺号用户类型
 **/
enum IqiyihaoUserType {
  //未知类型
  UNKNOWN_IQIYIHAO_USER_TYPE = -1;
  //普通用户
  IQIYIHAO_USER_TYPE_USER = 1;
  //编辑
  IQIYIHAO_USER_TYPE_EDITOR = 2;
  //普通机器人用户
  IQIYIHAO_USER_TYPE_USER_MACHINE = 3;
  //编辑机器人
  IQIYIHAO_USER_TYPE_EDITOR_MACHINE = 4;
}
/**
 * @brief 上传视频工具权限
 **/
enum UploadVideoToolType {
  //未知类型
  UNKNOWN_UPLOAD_VIDEO_TOOL_TYPE = -1;
  //普通版（写入09表）
  UPLOAD_VIDEO_TOOL_TYPE_COMMON = 0;
  //专业版（写入00表）
  UPLOAD_VIDEO_TOOL_TYPE_PROFESSIONAL = 1;
}
2. /knowledge/pub/properties.proto
message IqiyihaoAuthInfo {
  //业务分成状态
  optional RevenueSharedStatus revenue_shared_status = 9 [default = UNKNOWN_REVENUE_SHARED_STATUS];
  //上传视频工具类型
  optional UploadVideoToolType upload_video_tool_type = 10 [default = UNKNOWN_UPLOAD_VIDEO_TOOL_TYPE];
}
message IqiyihaoBase {
  //爱奇艺号用户类型
  optional IqiyihaoUserType iqiyihao_user_type = 8 [default = UNKNOWN_IQIYIHAO_USER_TYPE];
}
2018/07/19 (2.0.180719)
00&09表新增用户上传column及版权侵权字段
1. /knowledge/pub/properties.proto
/**
 * @brief 版权审核信息
 **/
message CopyrightCheckInfo {
  //版权审核结果
  optional CopyrightCheckResult copyright_check_result = 1 [default = UNKNOWN_COPYRIGHT_CHECK_RESULT];
  //版权侵权信息
  repeated CopyrightInfringeInfo copyright_infringe_info = 2;
}
/**
 * @brief 上传视频信息
 **/
message UploadVideoInfo {
  //上传来源（格式：类型_业务_来源_抓取方 eg:ugc_paopao_zhuaqu_youku）wiki:http://wiki.qiyi.domain/pages/viewpage.action?pageId=187013628
  optional string source_provider = 1;
  //上传平台（wiki：http://wiki.qiyi.domain/pages/viewpage.action?pageId=14254362）
  optional int32 upload_platform = 2;
  //上传方式
  optional UgcOperation.UploadActionType upload_action_type = 3 [default = REPRINT];
  //上传类型
  optional UploadVideoType upload_video_type = 4 [default = UNKNOWN_UPLOAD_VIDEO_TYPE];
}
/**
 * @brief 版权审核信息
 **/
message CopyrightCheckInfo {
  //版权审核结果
  optional CopyrightCheckResult copyright_check_result = 1 [default = UNKNOWN_COPYRIGHT_CHECK_RESULT];
  //版权侵权信息
  repeated CopyrightInfringeInfo copyright_infringe_info = 2;
}
/**
 * @brief 版权侵权信息
 **/
message CopyrightInfringeInfo {
  //版权内容奇谱id
  optional int64 copyright_video_id = 1;
}
/**
 * @brief 版权侵权信息
 **/
message CopyrightInfringeInfo {
  //版权内容奇谱id
  optional int64 copyright_video_id = 1;
}
2. /knowledge/pub/common.proto
/**
 * @brief 版权审核结果
 **/
enum CopyrightCheckResult {
  //未知类型
  UNKNOWN_COPYRIGHT_CHECK_RESULT = -1;
  //侵权
  COPYRIGHT_CHECK_RESULT_INFRINGE = 0;
  //原创
  COPYRIGHT_CHECK_RESULT_ORIGINAL = 1;
}
/**
 * @brief 上传类型
 **/
enum UploadVideoType {
  //未知类型
  UNKNOWN_UPLOAD_VIDEO_TYPE = -1;
  //自媒体
  UPLOAD_VIDEO_TYPE_SELF_MEDIA = 0;
  //网大
  UPLOAD_VIDEO_TYPE_ONLINE_FILM = 1;
  //网剧
  UPLOAD_VIDEO_TYPE_ONLINE_DRAMA = 2;
  //儿童
  UPLOAD_VIDEO_TYPE_CHILD = 3;
  //动漫
  UPLOAD_VIDEO_TYPE_ANIMATION_COMIC = 4;
  //教育
  UPLOAD_VIDEO_TYPE_EDUCATION = 5;
  //小视频
  UPLOAD_VIDEO_TYPE_SHORT_VIDEO = 6;
  //直转点
  UPLOAD_VIDEO_TYPE_LIVE_TO_EPISODE = 7;
  //图文机器合成
  UPLOAD_VIDEO_TYPE_MACHINE_CONVERTED_VIDEO = 8;
  //拆条
  UPLOAD_VIDEO_TYPE_CUT = 9;
}
/**
 * @brief 版权审核结果
 **/
enum CopyrightCheckResult {
  //未知类型
  UNKNOWN_COPYRIGHT_CHECK_RESULT = -1;
  //侵权
  COPYRIGHT_CHECK_RESULT_INFRINGE = 0;
  //原创
  COPYRIGHT_CHECK_RESULT_ORIGINAL = 1;
}
enum ColumnGroup {
  UPLOAD_VIDEO_INFO = 727;
  COPYRIGHT_CHECK_INFO = 728;
}
3. /entity/schema-00-episode.fproto
message Episode {
  //上传视频信息
  optional UploadVideoInfo upload_video_info = 255 [(field_option).column_group = UPLOAD_VIDEO_INFO, (column_option).column_name = "c_255_n"];
  //版权审核信息
  optional CopyrightCheckInfo copyright_check_info = 256 [(field_option).column_group = COPYRIGHT_CHECK_INFO, (column_option).column_name = "c_256_n"];
}
4. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //上传视频信息
  optional UploadVideoInfo upload_video_info = 134 [(field_option).column_group = UPLOAD_VIDEO_INFO, (column_option).column_name = "c_134_n"];
  //版权审核信息
  optional CopyrightCheckInfo copyright_check_info = 135 [(field_option).column_group = COPYRIGHT_CHECK_INFO, (column_option).column_name = "c_135_n"];
}
2018/07/18 (2.0.180718)
21实体新增feed评论业务方类型
1. /knowledge/pub/common.proto
enum CircleFeedCommentBusinessType {
  //竖版小视频
  FEED_COMMENT_BUSINESS_TYPE_VERTICAL_VIDEO = 15;
}
2018/07/17 (2.0.180717)
质量等级信息字段新增封禁状态枚举值
1. /knowledge/pub/common.proto
/**
 * @brief 爱奇艺号封禁状态
 **/
enum IqiyihaoBanStatus {
  //未知类型
  UNKNOWN_IQIYIHAO_BAN_STATUS = -1;
  //正常使用
  IQIYIHAO_BAN_STATUS_NORMAL = 0;
  //临时禁止使用
  IQIYIHAO_BAN_STATUS_TEMPORARY_BANNED = 1;
  //禁止使用
  IQIYIHAO_BAN_STATUS_BANNED = 2;
}
2. /knowledge/pub/properties.proto
message IqiyiUserQualityInfo {
  //爱奇艺号封禁状态
  optional IqiyihaoBanStatus iqiyihao_ban_status = 3 [default = IQIYIHAO_BAN_STATUS_NORMAL];
}
2018/07/13 (2.0.180713)
48实体status字段新增feed下线枚举值
1. /knowledge/pub/common.proto
enum FeedStatus {
  //下线
  FEED_OFFLINE = 2;
}
2018/07/13 (2.0.180713)
48新增信息流业务类型字段
1. /knowledge/pub/common.proto
/**
 * @brief 信息流业务类型
 **/
enum BeehiveBusinessType {
  //未知类型
  UNKNOWN_BEEHIVE_BUSINESS_TYPE = -1;
  //泡泡
  BEEHIVE_BUSINESS_TYPE_PAOPAO = 0;
  //动漫
  BEEHIVE_BUSINESS_TYPE_COMIC = 1;
  //文学
  BEEHIVE_BUSINESS_TYPE_BOOK = 2;
  //吃鲸
  BEEHIVE_BUSINESS_TYPE_CHIJING = 3;
  //广告
  BEEHIVE_BUSINESS_TYPE_ADVERTISEMENT = 4;
  //地方站
  BEEHIVE_BUSINESS_TYPE_SUBSITE = 5;
}
enum ColumnGroup {
  BEEHIVE_BUSINESS_TYPE = 723;
}
2. /entity/schema-48-circle-feed.fproto
message CircleFeed {
  //信息流业务类型
  optional BeehiveBusinessType beehive_business_type = 66 [default = UNKNOWN_BEEHIVE_BUSINESS_TYPE, (field_option).column_group = BEEHIVE_BUSINESS_TYPE, (column_option).column_name = "c_66_n"];
}
2018/07/13 (2.0.180713)
48实体新增漫画来源类型
1. /knowledge/pub/common.proto
enum FeedSourceType {
  //动漫APP
  FEED_COMICS_APP = 23;
}
2018/07/13 (2.0.180713)
48新增信息流字段
1. /entity/schema-48-circle-feed.fproto
message CircleFeed {
  //原始站点信息
  optional OriginalSiteInfo original_site_info = 65 [(field_option).column_group = ORIGINAL_SITE_INFO, (column_option).column_name = "c_65_n"];
}
2. /knowledge/pub/metadatas.proto
message FeedContentSource {
  //图片生产后的所有尺寸。记录的格式为：110_70,145_90,116_65,160_90,170_100,192_108,220_124,284_160,320_180,480_270,180_101,1080_608
  optional string image_size = 10;
  //是否为动图
  optional bool is_dynamic_image = 11 [default = false];
}
message FeedMetadata {
  //信息流来源id
  optional int64 beehive_source_id = 18;
  //关联作品id,即feed后可以关联一个作品的超链接，作品可以是书（0070），章（0170）等。
  optional int64 related_works_id = 19;
}
3. /knowledge/pub/properties.proto
message OriginalSiteInfo {
  //原始站点二级频道
  optional string second_level_channel = 15;
  //原始站点三级频道
  optional string third_level_channel = 16;
  //原始站点是否为大V
  optional bool is_verified = 17;
}
2018/07/12 (2.0.180712)
00新增视频是否带水印字段
1. /entity/schema-00-episode.fproto
message Episode {
  //视频投生产时的视频AI识别信息
  optional AiProductionInfo ai_production_info = 253 [(field_option).column_group = AI_PRODUCTION_INFO, (column_option).column_name = "c_253_n"];
}
2018/07/05 (2.0.180705)
付费角标字段新增体育会员和球票角标枚举值
1. /knowledge/pub/common.proto
enum PayMark {
  //体育会员角标
  PAY_MARK_SPORTS_VIP_MARK = 8;
  //体育球票角标
  PAY_MARK_SPORTS_TICKETS_MARK = 9;
}
2018/07/04 (2.0.180704)
53实体新增爱奇艺号用户的身份字段
1. /knowledge/pub/properties.proto
message IqiyihaoAuthInfo {
  //业务别名
  optional string alias = 8;
}
message IqiyihaoBase {
  //擅长领域
  optional string speciality_description = 6;
  //爱奇艺号说明
  optional string verify_introduction = 7;
}
2. /knowledge/pub/common.proto
enum IqiyihaoType {
  //网剧作者
  IQIYIHAO_TYPE_VIDEO_GENERATOR_ONLINE_DRAMA = 11;
  //轻小说作者
  IQIYIHAO_TYPE_LIGHT_NOVEL_WRITER = 12;
}
enum ColumnGroup {
  NICKNAME = 719;
  PROFILE_PICTURE_URL = 720;
  FANS_FOLLOWING_COUNT = 721;
  VIDEO_COUNT = 722;
}
3. /entity/schema-53-iqiyi-user.fproto
message IqiyiUser {
  //用户昵称
  optional string nickname = 15 [(field_option).column_group = NICKNAME, (column_option).column_name = "c_15_n"];
  //用户头像（url）
  optional string profile_picture_url = 16 [(field_option).column_group = PROFILE_PICTURE_URL, (column_option).column_name = "c_16_n"];
  //粉丝数
  optional int64 fans_following_count = 17 [(field_option).column_group = FANS_FOLLOWING_COUNT, (column_option).column_name = "c_17_n"];
  //视频数
  optional int64 video_count = 18 [(field_option).column_group = VIDEO_COUNT, (column_option).column_name = "c_18_n"];
  //展示播放数
  optional int64 display_play_count = 19 [(field_option).column_group = DISPLAY_PLAY_COUNT, (column_option).column_name = "c_19_n"];
}
2018/07/02 (2.0.180702)
0370实体新增tag_summary标签字段
1. /entity/schema-0370-subject-page.fproto
message SubjectPage {
  //关联标签
  repeated TagSummary tag_summary = 12 [(field_option).column_group = TAG_SUMMARY, (column_option).column_name = "c_12_n_", (column_option).column_suffix = "${source_type}"];
}
