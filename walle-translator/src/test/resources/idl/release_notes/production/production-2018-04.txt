2018/04/26 (2.0.180426)
00和09新增动图生产奇谱字段
1. /knowledge/pub/common.proto
enum ImageSource {
  //编辑上传
  IMAGE_SOURCE_EDITOR = 2;
  //用户上传
  IMAGE_SOURCE_UPLOADER = 3;
}
2. /knowledge/pub/properties.proto
message LocaleImage {
  //图片来源
  optional ImageSource image_source = 13 [default = UNKNOWN_IMAGE_SOURCE];
}
enum ImageType {
    //动态封面图
    DYNAMIC_IMAGE_COVER = 702;
}
3. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //支持本地化设置的图片
  repeated LocaleImage local_image = 125 [(field_option).column_group = LOCAL_IMAGE, (column_option).column_name = "c_125_n_", (column_option).column_suffix = "${type}"];
}
2018/04/24 (2.0.180424)
同步奇搜proto到最新版
2018/04/19 (2.0.180419)
00实体新增网大评级信息
1. /knowledge/pub/properties.proto
message PgcBase {
  //网大质量等级
  optional string online_film_quality_rating = 3;
}
2018/04/16 (2.0.180416)
48实体增加新的feed类型
1. /knowledge/pub/common.proto
enum FeedSourceType {
  //pgc开圈时自动创建的一条feed
  FEED_PGC_CIRCLE_AUTO = 21;
}
2018/04/16 (2.0.180416)
00 新增图文合成视频的数据结构
1. /knowledge/pub/properties.proto
/**
 * @brief 合成型视频来源信息
 **/
message ConvertedVideoSourceInfo {
  //视频来源ID
  optional int64 entity_id = 1;
  //合成来源
  optional ConvertedVideoSource source = 2 [default = UNKNOWN_CONVERTED_VIDEO_SOURCE];
}
/**
 * @brief 合成型视频信息
 **/
message ConvertedVideoInfo {
  //视频合成方式
  optional ConvertedVideoType converted_type = 1 [default = UNKNOWN_CONVERTED_VIDEO_TYPE];
  //合成型视频来源信息
  repeated ConvertedVideoSourceInfo converted_video_source_info = 2;
}
/**
 * @brief 合成型视频来源信息
 **/
message ConvertedVideoSourceInfo {
  //视频来源ID
  optional int64 entity_id = 1;
  //合成来源
  optional ConvertedVideoSource source = 2 [default = UNKNOWN_CONVERTED_VIDEO_SOURCE];
}
2. /knowledge/pub/common.proto
/**
 * @brief 合成来源
 **/
enum ConvertedVideoSource {
  //未知类型
  UNKNOWN_CONVERTED_VIDEO_SOURCE = -1;
  //头条新闻（有图文的新闻稿）
  CONVERTED_VIDEO_SOURCE_TOUTIAO_NEWS = 0;
  //头条图集（有注释说明的图文集）
  CONVERTED_VIDEO_SOURCE_TOUTIAO_IMAGE = 1;
  //编辑上传
  CONVERTED_VIDEO_SOURCE_EDITOR = 2;
}
enum ColumnGroup {
  CONVERTED_VIDEO_INFO = 683;
}
/**
 * @brief 视频合成方式
 **/
enum ConvertedVideoType {
  //未知类型
  UNKNOWN_CONVERTED_VIDEO_TYPE = -1;
  //人工合成
  CONVERTED_VIDEO_TYPE_MANUAL = 0;
  //机器合成
  CONVERTED_VIDEO_TYPE_MACHINE = 1;
}
/**
 * @brief 合成来源
 **/
enum ConvertedVideoSource {
  //未知类型
  UNKNOWN_CONVERTED_VIDEO_SOURCE = -1;
  //头条新闻（有图文的新闻稿）
  CONVERTED_VIDEO_SOURCE_TOUTIAO_NEWS = 0;
  //头条图集（有注释说明的图文集）
  CONVERTED_VIDEO_SOURCE_TOUTIAO_IMAGE = 1;
  //编辑上传
  CONVERTED_VIDEO_SOURCE_EDITOR = 2;
}
3. /entity/schema-00-episode.fproto
message Episode {
  //合成型视频信息
  //由图文转换而成的视频，一个视频可能有不同的图文来源。
  optional ConvertedVideoInfo converted_video_info = 248 [(field_option).column_group = CONVERTED_VIDEO_INFO, (column_option).column_name = "c_248_n"];
}
2018/04/12 (2.0.180412)
11实体增加竞猜页面url
1. /knowledge/pub/metadatas.proto
message MatchBase {
  //h5专题页地址
  optional string h5_website_url = 5;
}
2018/04/12 (2.0.180412)
53爱奇艺号实体调整修改等级及分数
1. /knowledge/pub/properties.proto
message IqiyihaoScoreInfo {
  //内容质量得分，替代content_quality_score
  optional float score_quality = 8;
  //吸粉能力得分
  optional float score_fans_following = 9;
  //平台活跃得分，替代author_activation_score
  optional float score_activeness = 10;
  //用户互动得分，替代author_interaction_score
  optional float score_interaction = 11;
  //平台奖励得分
  optional float score_platform_award = 12;
}
/**
 * @brief 爱奇艺号等级信息
 **/
message IqiyihaoLevelInfo {
  //等级
  optional int32 level = 1;
}
2. /entity/schema-53-iqiyi-user.fproto
message IqiyiUser {
  //爱奇艺号等级信息
  optional IqiyihaoLevelInfo iqiyihao_level_info = 7 [(field_option).column_group = IQIYIHAO_LEVEL_INFO, (column_option).column_name = "c_7_n"];
  //爱奇艺号指数信息
  optional IqiyihaoScoreInfo iqiyihao_score_info = 8 [(field_option).column_group = IQIYIHAO_SCORE_INFO, (column_option).column_name = "c_8_n"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  IQIYIHAO_LEVEL_INFO = 689;
  IQIYIHAO_SCORE_INFO = 690;
}
2018/04/12 (2.0.180412)
53实体新增认证用户身份字段
1. /knowledge/pub/common.proto
/**
 * @brief 爱奇艺号版权信息
 **/
enum IqiyihaoCopyright {
  //未知类型
  UNKNOWN_IQIYIHAO_COPYRIGHT = -1;
  //默认（老数据）
  IQIYIHAO_COPYRIGHT_DEFAULT = 0;
  //原创
  IQIYIHAO_COPYRIGHT_ORIGINAL = 1;
  //转载
  IQIYIHAO_COPYRIGHT_SHARE = 2;
  //拍客
  IQIYIHAO_COPYRIGHT_PAIKE = 3;
  //其他
  IQIYIHAO_COPYRIGHT_OTHER = 4;
}
/**
 * @brief 爱奇艺号类型
 **/
enum IqiyihaoType {
  //未知类型
  UNKNOWN_IQIYIHAO_TYPE = -1;
  //自媒体
  IQIYIHAO_TYPE_SELF_MEDIA = 0;
  //网大作者
  IQIYIHAO_TYPE_VIDEO_GENERATOR_ONLINE_FILM = 1;
  //直播主播
  IQIYIHAO_TYPE_ANCHOR = 2;
  //泡泡写手
  IQIYIHAO_TYPE_PAOPAO_WRITER = 3;
  //文学作者
  IQIYIHAO_TYPE_BOOK_WRITER = 4;
  //漫画作者
  IQIYIHAO_TYPE_COMICBOOK_WRITER = 5;
  //圈主管理员
  IQIYIHAO_TYPE_PAOPAO_ADMINISTRATOR = 6;
  //儿童视频发布者
  IQIYIHAO_TYPE_VIDEO_GENERATOR_CHILD = 7;
  //动漫视频发布者
  IQIYIHAO_TYPE_VIDEO_GENERATOR_ANIMATION = 8;
  //教育视频发布者
  IQIYIHAO_TYPE_VIDEO_GENERATOR_EDUCATION = 9;
  //泡泡宣发
  IQIYIHAO_TYPE_PAOPAO_PROMOTOR = 10;
}
/**
 * @brief 爱奇艺号认证状态
 **/
enum IqiyihaoAuthStatus {
  //未知类型
  UNKNOWN_IQIYIHAO_AUTH_STATUS = -1;
  //已认证
  IQIYIHAO_AUTH_STATUS_AUTHED = 1;
  //取消
  IQIYIHAO_AUTH_STATUS_CANCEL = 2;
  //审核中
  IQIYIHAO_AUTH_STATUS_CHECK = 3;
}
/**
 * @brief 爱奇艺号版权信息
 **/
enum IqiyihaoCopyright {
  //未知类型
  UNKNOWN_IQIYIHAO_COPYRIGHT = -1;
  //默认（老数据）
  IQIYIHAO_COPYRIGHT_DEFAULT = 0;
  //原创
  IQIYIHAO_COPYRIGHT_ORIGINAL = 1;
  //转载
  IQIYIHAO_COPYRIGHT_SHARE = 2;
  //拍客
  IQIYIHAO_COPYRIGHT_PAIKE = 3;
  //其他
  IQIYIHAO_COPYRIGHT_OTHER = 4;
}
/**
 * @brief 认证标识
 **/
enum AuthMark {
  //未知类型
  UNKNOWN_AUTH_MARK = -1;
  //无标注
  AUTH_MARK_NONE = 0;
  //认证标识
  AUTH_MARK_AUTH = 1;
  //认证+媒体标识
  AUTH_MARK_AUTH_MEDIA = 2;
}
/**
 * @brief 爱奇艺号纳豆标识
 **/
enum IqiyihaoNadouMark {
  //未知类型
  UNKNOWN_IQIYIHAO_NADOU_MARK = -1;
  //无标识
  IQIYIHAO_NADOU_MARK_NONE = 1;
  //官方标识
  IQIYIHAO_NADOU_MARK_OFFICIAL = 2;
  //爱奇艺小编标识
  IQIYIHAO_NADOU_MARK_IQIYI_EDITOR = 3;
  //通用标识
  IQIYIHAO_NADOU_MARK_GENERAL = 4;
}
/**
 * @brief 爱奇艺号空间展示模板
 **/
enum IqiyihaoSpaceTemplate {
  //未知类型
  UNKNOWN_IQIYIHAO_SPACE_TEMPLATE = -1;
  //普通用户
  IQIYIHAO_SPACE_TEMPLATE_GENERAL = 1;
  //达人类
  IQIYIHAO_SPACE_TEMPLATE_MASTER = 2;
  //媒体类
  IQIYIHAO_SPACE_TEMPLATE_MEDIA = 3;
  //时尚品牌类
  IQIYIHAO_SPACE_TEMPLATE_FASHION = 4;
  //大头频道
  IQIYIHAO_SPACE_TEMPLATE_MAJOR = 5;
  //专题页
  IQIYIHAO_SPACE_TEMPLATE_SUBJECT = 6;
}
/**
 * @brief 爱奇艺用户类型
 **/
enum IqiyiUserType {
  //未知类型
  UNKNOWN_IQIYI_USER_TYPE = -1;
  //爱奇艺号
  IQIYI_USER_TYPE_IQIYIHAO = 0;
}
/**
 * @brief 爱奇艺号认证状态
 **/
enum IqiyihaoAuthStatus {
  //未知类型
  UNKNOWN_IQIYIHAO_AUTH_STATUS = -1;
  //已认证
  IQIYIHAO_AUTH_STATUS_AUTHED = 1;
  //取消
  IQIYIHAO_AUTH_STATUS_CANCEL = 2;
  //审核中
  IQIYIHAO_AUTH_STATUS_CHECK = 3;
}
/**
 * @brief 爱奇艺号空间展示模板
 **/
enum IqiyihaoSpaceTemplate {
  //未知类型
  UNKNOWN_IQIYIHAO_SPACE_TEMPLATE = -1;
  //普通用户
  IQIYIHAO_SPACE_TEMPLATE_GENERAL = 1;
  //达人类
  IQIYIHAO_SPACE_TEMPLATE_MASTER = 2;
  //媒体类
  IQIYIHAO_SPACE_TEMPLATE_MEDIA = 3;
  //时尚品牌类
  IQIYIHAO_SPACE_TEMPLATE_FASHION = 4;
  //大头频道
  IQIYIHAO_SPACE_TEMPLATE_MAJOR = 5;
  //专题页
  IQIYIHAO_SPACE_TEMPLATE_SUBJECT = 6;
}
/**
 * @brief 认证标识
 **/
enum AuthMark {
  //未知类型
  UNKNOWN_AUTH_MARK = -1;
  //无标注
  AUTH_MARK_NONE = 0;
  //认证标识
  AUTH_MARK_AUTH = 1;
  //认证+媒体标识
  AUTH_MARK_AUTH_MEDIA = 2;
}
/**
 * @brief 爱奇艺号纳豆标识
 **/
enum IqiyihaoNadouMark {
  //未知类型
  UNKNOWN_IQIYIHAO_NADOU_MARK = -1;
  //无标识
  IQIYIHAO_NADOU_MARK_NONE = 1;
  //官方标识
  IQIYIHAO_NADOU_MARK_OFFICIAL = 2;
  //爱奇艺小编标识
  IQIYIHAO_NADOU_MARK_IQIYI_EDITOR = 3;
  //通用标识
  IQIYIHAO_NADOU_MARK_GENERAL = 4;
}
/**
 * @brief 爱奇艺用户类型
 **/
enum IqiyiUserType {
  //未知类型
  UNKNOWN_IQIYI_USER_TYPE = -1;
  //爱奇艺号
  IQIYI_USER_TYPE_IQIYIHAO = 0;
}
enum ColumnGroup {
  IQIYIHAO_AUTH_INFO = 691;
  IQIYIHAO_BASE = 692;
  QUALITY_RATING_INFO = 693;
}
2. /knowledge/pub/properties.proto
/**
 * @brief 爱奇艺号认证信息
 **/
message IqiyihaoAuthInfo {
  //爱奇艺号类型
  optional IqiyihaoType iqiyihao_type = 1 [default = UNKNOWN_IQIYIHAO_TYPE];
  //爱奇艺号认证状态
  optional IqiyihaoAuthStatus auth_status = 2 [default = UNKNOWN_IQIYIHAO_AUTH_STATUS];
  //首次认证时间（时间戳，单位毫秒）
  optional int64 first_auth_time = 3;
  //爱奇艺号版权信息
  optional IqiyihaoCopyright copyright = 4 [default = UNKNOWN_IQIYIHAO_COPYRIGHT];
  //推荐等级
  optional int32 recommend_level = 5;
  //最后更新时间（时间戳，单位毫秒）
  optional int64 last_update_time = 6;
  //频道（多个频道用分号隔开）
  optional string channel = 7;
}
/**
 * @brief 爱奇艺号运营信息
 **/
message IqiyihaoBase {
  //认证标识
  optional AuthMark auth_mark = 1 [default = UNKNOWN_AUTH_MARK];
  //纳豆标识
  optional IqiyihaoNadouMark iqiyihao_nadou_mark = 2 [default = UNKNOWN_IQIYIHAO_NADOU_MARK];
  //是否开启泡泡圈
  optional bool is_open_circle = 3 [default = false];
  //泡泡圈ID
  optional int64 circle_id = 4;
  //爱奇艺号空间展示模板
  optional IqiyihaoSpaceTemplate space_template = 5 [default = UNKNOWN_IQIYIHAO_SPACE_TEMPLATE];
}
/**
 * @brief 爱奇艺用户质量等级
 **/
message IqiyiUserQualityInfo {
  //质量分数
  optional float quality_score = 1;
  //质量等级
  optional int32 quality_level = 2;
}
/**
 * @brief 爱奇艺用户质量等级
 **/
message IqiyiUserQualityInfo {
  //质量分数
  optional float quality_score = 1;
  //质量等级
  optional int32 quality_level = 2;
}
/**
 * @brief 爱奇艺号运营信息
 **/
message IqiyihaoBase {
  //认证标识
  optional AuthMark auth_mark = 1 [default = UNKNOWN_AUTH_MARK];
  //纳豆标识
  optional IqiyihaoNadouMark iqiyihao_nadou_mark = 2 [default = UNKNOWN_IQIYIHAO_NADOU_MARK];
  //是否开启泡泡圈
  optional bool is_open_circle = 3 [default = false];
  //泡泡圈ID
  optional int64 circle_id = 4;
  //爱奇艺号空间展示模板
  optional IqiyihaoSpaceTemplate space_template = 5 [default = UNKNOWN_IQIYIHAO_SPACE_TEMPLATE];
}
3. /entity/schema-53-iqiyi-user.fproto
message IqiyiUser {
  //爱奇艺号认证信息
  repeated IqiyihaoAuthInfo iqiyihao_auth_info = 9 [(field_option).column_group = IQIYIHAO_AUTH_INFO, (column_option).column_name = "c_9_n_", (column_option).column_suffix = "${iqiyihao_type}"];
  //爱奇艺号运营信息
  optional IqiyihaoBase iqiyihao_base = 10 [(field_option).column_group = IQIYIHAO_BASE, (column_option).column_name = "c_10_n"];
  //爱奇艺用户类型
  optional IqiyiUserType user_type = 11 [default = UNKNOWN_IQIYI_USER_TYPE, (field_option).column_group = USER_TYPE, (column_option).column_name = "c_11_n"];
  //质量等级信息
  optional IqiyiUserQualityInfo quality_rating_info = 12 [(field_option).column_group = QUALITY_RATING_INFO, (column_option).column_name = "c_12_n"];
}
2018/04/11 (2.0.180411)
05明星增加搜索运营字段
1. /knowledge/pub/properties.proto
/**
 * @brief 搜索运营信息
 * @details 搜索运营信息
 **/
message SearchBase {
  //明星背景图url，如果要各端不同的尺寸，请在设计环节生产多套图，并用cms进行固定文件名上传，覆盖全尺寸url地址。
  optional string background_image_url = 1;
  //明星名字后的身份icon图片url
  optional string icon_url = 2;
}
2. /entity/schema-05-people.fproto
message People {
  //搜索运营信息
  optional SearchBase search_base = 25 [(field_option).column_group = SEARCH_BASE, (column_option).column_name = "c_25_n"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  SEARCH_BASE = 686;
}
2018/04/11 (2.0.180411)
48feed子类型补充默认值
1. /knowledge/pub/common.proto
enum FeedActivityExtendedType {
  //未知活动类型
  UNKNOWN_FEED_ACTIVITY_EXTENDED_TYPE = -1;
}
enum FeedShortVideoExtendedType {
  //未知小视频来源类型
  UNKNOWN_FEED_SHORT_VIDEO_EXTENDED_TYPE = -1;
}
enum FeedMoodExtendedType {
  //未知心情类型
  UNKNOWN_FEED_MOOD_EXTENDED_TYPE = -1;
}
2018/04/11 (2.0.180411)
47圈子实体新增是否允许发布feed字段
1. /knowledge/pub/properties.proto
message CircleOperationControl {
  //是否允许发布feed
  optional bool is_feed_allowed = 3 [default = true];
}
2018/04/09 (2.0.180409)
1.图片AI识别结果
message IntelligentFeature {
  // 写入方：乐高
  // 爱奇艺图片黑边识别
  repeated IqiyiImageBlackBorder p5_iqiyi_image_black_border = 120 [(column_option).column_name = "c_120_n", (column_option).column_suffix = "${image_url}"];
  // 爱奇艺图片清晰度识别
  repeated IqiyiImageResolution p5_iqiyi_image_resolution = 121 [(column_option).column_name = "c_121_n", (column_option).column_suffix = "${image_url}"];
  // 爱奇艺图片软色情识别
  repeated IqiyiImageSoftcorePornography p5_iqiyi_image_softcore_pornography = 122 [(column_option).column_name = "c_122_n", (column_option).column_suffix = "${image_url}"];

}
// 爱奇艺图片黑边识别
message IqiyiImageBlackBorder {
  // 版本
  optional string version = 1;
  // 是否带黑边
  optional bool result = 2;
  // 带黑边的概率
  optional double probability = 3;
  // 非黑边区域
  repeated string non_black_border_location = 4;
  // 图片地址
  optional string image_url = 5;
  // 图片类型
  optional ImageType type = 6;
  // 图片格式
  optional ImageFileType image_type = 7;
  // 图片压缩率
  optional ImageCompressionStatus image_compression_status = 8;
  // 图片尺寸
  optional string image_size = 9;
}

// 爱奇艺图片清晰度识别
message IqiyiImageResolution {
  // 版本
  optional string version = 1;
  // 清晰程度
  optional ImageResolution result = 2;
  // 清晰概率
  optional double probability = 3;
  // 得分
  optional double score = 4;
  // 图片地址
  optional string image_url = 5;
  // 图片类型
  optional ImageType type = 6;
  // 图片格式
  optional ImageFileType image_type = 7;
  // 图片压缩率
  optional ImageCompressionStatus image_compression_status = 8;
  // 图片尺寸
  optional string image_size = 9;
}

// 爱奇艺图片软色情识别
message IqiyiImageSoftcorePornography {
  // 版本
  optional string version = 1;
  // 得分,区间为0-1
  optional double score = 2;
  // 图片地址
  optional string image_url = 3;
  // 图片类型
  optional ImageType type = 4;
  // 图片格式
  optional ImageFileType image_type = 5;
  // 图片压缩率
  optional ImageCompressionStatus image_compression_status = 6;
  // 图片尺寸
  optional string image_size = 7;
}

/**
  * 图片格式
  **/
enum ImageFileType {
  UNKNOWN_IMAGE_FILE_TYPE = -1;
  IMAGE_FILE_TYPE_JPG = 0;
  IMAGE_FILE_TYPE_WEBP = 1;
}

/**
  * 图片清晰程度
  **/
enum ImageResolution {
  UNKNOWN_IMAGE_RESOLUTION = -1;
  IMAGE_RESOLUTION_LOW = 0;
  IMAGE_RESOLUTION_NORMAL = 1;
  IMAGE_RESOLUTION_HIGH = 2;
}

/**
  * 图片压缩率
  **/
enum ImageCompressionStatus {
  UNKNOWN_IMAGE_COMPRESSION_STATUS = -1;
  IMAGE_COMPRESSION_STATUS_HIGH = 0;
  IMAGE_COMPRESSION_STATUS_LOW = 1;
}

/**
 * 图片类型
 *
  **/
enum ImageType {
  COVER = 601; // 封面图
  POSTER = 600; // 海报图
}
2018/04/09 (2.0.180409)
00video_info新增VR一体机布尔值
1. /knowledge/pub/common.proto
message VideoInfo {
  //是否是VR一体机
  optional bool is_vr_standalone = 9 [default = false];
}
2018/04/08 (2.0.180408)
48feed实体增加合集类型feed
1. /knowledge/pub/metadatas.proto
message FeedMetadata {
  //套壳前的播单02id
  optional int64 collection_id = 17;
}
2018/04/03 (2.0.180403)
00和09新增关联头条summary
1. /entity/schema-00-episode.fproto
message Episode {
  //关联头条信息
  repeated MetaSummary toutiao_summary = 247 [(field_option).column_group = TOUTIAO_SUMMARY, (column_option).column_name = "c_247_n_", (column_option).column_suffix = "${entity_id}"];
}
2. /entity/schema-09-ugc-episode.fproto
message UgcEpisode {
  //关联头条信息
  repeated MetaSummary toutiao_summary = 126 [(field_option).column_group = TOUTIAO_SUMMARY, (column_option).column_name = "c_126_n_", (column_option).column_suffix = "${entity_id}"];
}
3. /knowledge/pub/common.proto
enum ColumnGroup {
  TOUTIAO_SUMMARY = 681;
}
